"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{639:function(e,t,n){n.d(t,{Hx:function(){return m},PQ:function(){return h},SU:function(){return u},bI:function(){return v},fP:function(){return f}});var c=n(861),a=n(757),r=n.n(a),i="https://api.themoviedb.org/3/",s="c3fb1453ab7f1b7a3769167de0ee4418";function o(){return l.apply(this,arguments)}function l(){return l=(0,c.Z)(r().mark((function e(){var t,n,c,a=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(c=e.sent).ok){e.next=11;break}return e.next=8,c.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return o("".concat(i,"trending/movie/day?api_key=").concat(s))}function v(e){return o("".concat(i,"search/movie?api_key=").concat(s,"&query=").concat(e))}function f(e){return o("".concat(i,"movie/").concat(e,"?api_key=").concat(s))}function h(e){return o("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(s))}function m(e){return o("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(s))}},801:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var c=n(885),a=n(791),r=n(501),i=n(871),s=n(368),o=n(639),l={wrapper:"MovieInfo_wrapper__ZuhWq",img:"MovieInfo_img__NAdOw",title:"MovieInfo_title__XFT6g",navItem:"MovieInfo_navItem__miDLk",nav:"MovieInfo_nav__TnAWp"},u="BackBtn_button__R--92",v=n(184);function f(e){var t=e.onClick;return(0,v.jsx)("button",{type:"button",className:u,onClick:t,children:"Go back"})}var h=(0,a.lazy)((function(){return n.e(81).then(n.bind(n,774))})),m=(0,a.lazy)((function(){return n.e(798).then(n.bind(n,473))}));function p(){var e=(0,i.UO)().movieId,t=(0,a.useState)([]),n=(0,c.Z)(t,2),u=n[0],p=n[1],d=(0,i.TH)(),x=(0,s.lX)({window:window}),_=u.title,j=u.genres,w=u.overview,k=10*u.vote_average,b="https://www.themoviedb.org/t/p/w600_and_h900_bestv2".concat(u.poster_path),N=[];return j&&u.genres.map((function(e){var t=e.name;return N.push(t)})),(0,a.useEffect)((function(){o.fP(e).then(p)}),[e]),u&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f,{onClick:function(){x.back()}}),(0,v.jsxs)("div",{className:l.wrapper,children:[(0,v.jsx)("img",{src:b,alt:u.title,className:l.img}),(0,v.jsxs)("div",{className:l.info,children:[(0,v.jsx)("h2",{className:l.title,children:_}),(0,v.jsxs)("p",{className:l.text,children:["User score: ",k,"%"]}),(0,v.jsx)("h3",{className:l.title,children:"Overview"}),(0,v.jsx)("p",{className:l.text,children:w}),(0,v.jsx)("h3",{className:l.title,children:"Genres"}),(0,v.jsx)("p",{className:l.text,children:N.join(", ")})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:l.title,children:"Additional information"}),(0,v.jsxs)("nav",{className:l.nav,children:[(0,v.jsx)(r.OL,{to:{pathname:"/movies/".concat(e,"/cast"),state:{from:d}},className:l.navItem,style:function(e){return{color:e.isActive?"purple":"black"}},children:"Cast"}),(0,v.jsx)(r.OL,{to:{pathname:"/movies/".concat(e,"/reviews"),state:{from:d}},className:l.navItem,style:function(e){return{color:e.isActive?"purple":"black"}},children:"Reviews"})]}),(0,v.jsx)(a.Suspense,{fallback:(0,v.jsx)("div",{children:"Please wait..."}),children:(0,v.jsxs)(i.Z5,{children:[(0,v.jsx)(i.AW,{exact:!0,path:"/cast",element:(0,v.jsx)(h,{})}),(0,v.jsx)(i.AW,{path:"/reviews",element:(0,v.jsx)(m,{})})]})})]})]})}}}]);
//# sourceMappingURL=info-view.39f34c7d.chunk.js.map