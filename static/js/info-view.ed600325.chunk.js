"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{639:function(e,t,n){n.d(t,{Hx:function(){return m},PQ:function(){return h},SU:function(){return u},bI:function(){return f},fP:function(){return v}});var r=n(861),a=n(757),c=n.n(a),s="https://api.themoviedb.org/3/",i="c3fb1453ab7f1b7a3769167de0ee4418";function o(){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(c().mark((function e(){var t,n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return o("".concat(s,"trending/movie/day?api_key=").concat(i))}function f(e){return o("".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(e))}function v(e){return o("".concat(s,"movie/").concat(e,"?api_key=").concat(i))}function h(e){return o("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i))}function m(e){return o("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i))}},801:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(885),a=n(791),c=n(501),s=n(871),i=n(639),o={wrapper:"MovieInfo_wrapper__m2ewx",img:"MovieInfo_img__lD9F4",title:"MovieInfo_title__r5NVs",navItem:"MovieInfo_navItem__HS-au",nav:"MovieInfo_nav__L7Opl"},l="BackBtn_button__+SV9k",u=n(184);function f(e){var t=e.onClick;return(0,u.jsx)("button",{type:"button",className:l,onClick:t,children:"Go back"})}var v=(0,a.lazy)((function(){return n.e(81).then(n.bind(n,774))})),h=(0,a.lazy)((function(){return n.e(798).then(n.bind(n,473))}));function m(){var e=(0,s.UO)().movieId,t=(0,a.useState)([]),n=(0,r.Z)(t,2),l=n[0],m=n[1],p=(0,s.TH)(),d=l.title,x=l.genres,_=l.overview,j=10*l.vote_average,k="https://www.themoviedb.org/t/p/w600_and_h900_bestv2".concat(l.poster_path),w=[],b=(0,a.useState)(p.state.from),N=(0,r.Z)(b,1)[0],y=(0,s.s0)();return x&&l.genres.map((function(e){var t=e.name;return w.push(t)})),(0,a.useEffect)((function(){i.fP(e).then(m)}),[e]),l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f,{onClick:function(){y(N)}}),(0,u.jsxs)("div",{className:o.wrapper,children:[(0,u.jsx)("img",{src:k,alt:l.title,className:o.img}),(0,u.jsxs)("div",{className:o.info,children:[(0,u.jsx)("h2",{className:o.title,children:d}),(0,u.jsxs)("p",{className:o.text,children:["User score: ",j,"%"]}),(0,u.jsx)("h3",{className:o.title,children:"Overview"}),(0,u.jsx)("p",{className:o.text,children:_}),(0,u.jsx)("h3",{className:o.title,children:"Genres"}),(0,u.jsx)("p",{className:o.text,children:w.join(", ")})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:o.title,children:"Additional information"}),(0,u.jsxs)("nav",{className:o.nav,children:[(0,u.jsx)(c.OL,{to:"cast",state:{from:p},className:o.navItem,style:function(e){return{color:e.isActive?"purple":"black"}},children:"Cast"}),(0,u.jsx)(c.OL,{to:"reviews",state:{from:p},className:o.navItem,style:function(e){return{color:e.isActive?"purple":"black"}},children:"Reviews"})]}),(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)("div",{children:"Please wait..."}),children:(0,u.jsxs)(s.Z5,{children:[(0,u.jsx)(s.AW,{exact:!0,path:"/cast",element:(0,u.jsx)(v,{})}),(0,u.jsx)(s.AW,{path:"/reviews",element:(0,u.jsx)(h,{})})]})})]})]})}}}]);
//# sourceMappingURL=info-view.ed600325.chunk.js.map